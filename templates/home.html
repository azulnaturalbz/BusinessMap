<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Business Listings</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAvZBV9bHn_jfgq-38odAebUgiKDaNlUHg&callback=initMap"></script>
    <script type="text/javascript">

        var map;
        var marker;
        function initialize() {
        // Create a map object and specify the DOM element for display.
        var mapOptions = {
            center: new google.maps.LatLng(
                17.498867,-88.2020487
            ),zoom:14
        };

        map = new google.maps.Map(document.getElementById("map-canvas"), mapOptions);

        google.maps.event.addListener(map, 'click',
        function (event) {
            placeMarker(event.latLng)
        });
      }


      function placeMarker (location) {
          if (marker){
            marker.setPosition(location);
          }
          else{
              marker = new google.maps.Marker({
              position: location,
              map: map
          });
              document.getElementById('latitude').value = location.lat();
              document.getElementById('longitude').value = location.lng();
          }

      }
    </script>
</head>
    <body onload="initialize()">
        <h1>Business Listing</h1>
        <div class="row">
            <div class="col-md-8">
                <h2>A detailed map layout of all businesses within the belize city area</h2>
        <div id="map-canvas" style="height: 500px;"></div>
            </div>
        <div class="col-md-4">
        <div id="newbzecityform">
            <h3>Submit a new business</h3>
            <form action="/submitbusiness" method="post">
                <div class="form-group">
                <label for="category">Category:</label>
                <select name="category" id="category" class="form-control">
                    <option value="retail">Shops</option>
                    <option value="restuarant">food</option>
                </select>
                </div>
                <div class="form-group">
                <label for="date">Date:</label>
                <input type="date" name="date" id="date"class="form-control">
                </div>
                <div class="form-group">
                <label for="latitude">Latitude:</label>
                <input type="text" name="latitude" id="latitude" class="form-control">
                </div>
                <div class="form-group">
                <label for="longitude">Longitude:</label>
                <input type="text" name="longitude" id="longitude" class="form-control">
                </div>
                <div class="form-group">
                <label for="description">Description:</label>
                <textarea name="description" id="description" cols="30" rows="10" placeholder="Short of description of the nature of business" class="form-control"></textarea>
                </div>

            </form>
             <button type="submit" class="btn btn-primary">Submit</button>
            </div>
        </div>
        </div>

            <form action="/add" method="post">
                <input type="text" name="userinput">
                <input type="submit" value="Submit" class="btn btn-primary">
            </form>
            {% for userinput in data %}
            <p>{{ userinput }}</p>
            {% endfor %}

        <a href="/clear">clear</a>
    </body>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
</html>


{#
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Business Listings</title>
</head>
<body>
<h1>Business Listing</h1>
<form action="/add" method="post">
    <input type="text" name="userinput">
    <input type="submit" value="Submit">
</form>
{% for userinput in data %}
<p>{{ userinput }}</p>
{% endfor %}

<a href="/clear">clear</a>
</body>
</html>#}
